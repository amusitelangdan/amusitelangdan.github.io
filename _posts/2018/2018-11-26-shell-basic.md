---
layout:     post
title:      Shell 基础
no-post-nav: true
category: linux
tags: [linux]
excerpt: 本文主要为大家讲解Shell基础。
---

# Shell基础

### Shell 概述

* Shell是什么？

1. **Shell是一个命令解释器**，它为用户提供了一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序。
2. Shell还是一个功能相当强大的编程语言，易编写、易调试、灵活性较强。Shell是解释执行的脚本语言，在Shell中可以直接调用Linux系统命令。

我们使用的用于向Linux发送命令的界面就叫做Shell。我们知道，计算机能识别的指令只有0和1，所以说不管是哪一种编程语言，它进行了多少次编译、解释、加工、最终都转化成为了0110这种类似的计算机指令。
那么Shell充当的角色就是将我们输入的Linux命令进行解释说明，转换成为Linux内核所能够识别的指令，这样，Linux内核才能乖乖的为我们做事。
同样的，计算机所输出的信息也是二进制数据，Shell也会将这些二进制数据转换为方便我们理解的编程语言。
所以说，Shell的角色之一就是充当了计算机和人类之间的“翻译官”。从某种角度来讲，我们也可以将windows的操作界面称之为Shell。

### Hello World

编写我们第一个Shell脚本，在控制台（博主使用的是XShell工具），输入`vim hello.sh`，新建一个脚本文件并且进入编辑模式。
输入以下内容然后保存。

```
#!/bin/bash
# this is my first shell program.
echo "Hello World !"
```

执行命令 `bash ./hello.sh`，控制台打印“Hello World ！”。这样我们就完成了我们第一个Shell脚本程序。
下面解释一下我们的这些代码。首先`#!/bin/bash`，它标识了下面的内容是标准的Shell脚本。第二行是注释，Shell的注释方式是前面加“**#**”。
第三行`echo`，是将指定内容进行输出的命令。可以理解为`System.out.print();`。这个脚本就是简单的进行打印输出。

### Bash 的基本功能

1. 命令别名与快捷键

* 查看别名
命令`alias`，系统会输出默认的一些命令所对应的的别名。
例如，`ll`命令所对应的原始命令就是`ls -l --color=auto`。

* 设置别名
对于某些很长的命令，我们也可以手动设置别名。命令格式为`alias [别名]='原始命令'`。这种设定方式不是长久生效的，当计算机重启，用户注销，这些别名就会失效。
如果想要永久生效，就需要将别名设置到环境变量中。环境变量默认存储在当前用户的文件夹下的`.bashrc`文件中，输入`vi ~/.bashrc`，进入编辑模式，然后设置一个别名。
保存之后退出使用别名调用命令，并没有生效，这是因为需要注销或者重启之后环境变量才会生效。想要不重启、不注销就生效。使用命令`source ~/.bashrc`。再次使用别名，会发现已经生效了。

* 删除别名
命令`unalias [别名]`，即可删除。和设置别名一样，这个删除也不是永久生效的，重启或者注销之后就失效了。彻底删除还是需要修改环境变量文件。

* 命令生效的顺序
我们查看`.bashrc`文件可以发现`alias rm='rm -i'`这行代码，也就是说`rm`其实是`rm -i`的别名。那么当我们执行`rm`命令的时候，到底执行的是原始的`rm`命令，还是执行的`rm -i`命令呢？
这里就牵扯到了命令的执行顺序。命令执行的顺序如下：
    1. 用绝对路径或者相对路径执行的命令。
    2. 别名。
    3. Bash的内部命令。
    4. 按照`$PATH`环境变量定义的目录查找顺序找到的第一个命令。

    注意，别名执行的优先级是高于Bash内部命令以及外部命令的。`$PATH`所对应的命令就是外部命令，比如说，本机安装了JDK，那么`$PATH`就会多出一些Java相关的命令，例如`java`、
    `javac`等。所以说设置别名的时候需要谨慎，否则可能导致系统某些命令被覆盖。

* 快捷键
常用快捷键如下：

    |   命令   |           描述         |
    |----------| :-------------------: |
    | ctrl + c | 强制终止当前命令        |
    | ctrl + l | 清屏                   |
    | ctrl + a | 光标移动到命令行首      |
    | ctrl + e | 光标移动到命令行尾       |
    | ctrl + u | 从光标所在位置删除到行首 |
    | ctrl + z | 把命令放入后台          |
    | ctrl + r | 在历史命令中搜索        |

2. 历史命令
3. 输出重定向
4. 多命令顺序执行
5. Shell中特殊符号
